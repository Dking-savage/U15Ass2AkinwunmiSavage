<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Ticket Booking</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f9;
        }
        .seating-plan {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 15px;
            justify-content: center;
            margin: 20px auto;
            max-width: 750px;
            background-color: #e0e7ff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.2);
        }
        .booth {
            background: linear-gradient(135deg, #ff9800, #ff5722);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border-radius: 12px;
            width: 90px;
            font-size: 14px;
            font-weight: bold;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.2);
        }
        .booth:hover {
            transform: scale(1.2);
            background: linear-gradient(135deg, #ff5722, #e65100);
        }
        .selected {
            background: linear-gradient(135deg, #4caf50, #388e3c);
            transform: scale(1.2);
        }
        .booked {
            background: linear-gradient(135deg, #d32f2f, #b71c1c);
            cursor: not-allowed;
            text-decoration: line-through;
            box-shadow: none;
        }
        .checkout-section {
            display: none;
            margin-top: 20px;
            background: #fff;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.2);
        }
        button {
            background: linear-gradient(135deg, #6200ea, #3700b3);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
            transition: background 0.3s, transform 0.2s;
        }
        button:hover {
            background: linear-gradient(135deg, #3700b3, #1a237e);
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <h2>Event Ticket Booking</h2>
    <div class="seating-plan">
        <script>
            document.write('<div class="seating-plan">');
            for (let i = 1; i <= 40; i++) {
                document.write(`<div class='booth' data-id='${i}'>Booth ${i}</div>`);
            }
            document.write('</div>');
        </script>
    </div>
    <button onclick="bookSeats()">Book Selected Seats</button>
    
    <h2>Basket</h2>
    <ul id="basket"></ul>
    <div id="totalPrice"></div>
    
    <div class="checkout-section" id="checkoutSection">
        <h2>Proceed to Checkout</h2>
        <button onclick="proceedToPayment()">Proceed to Payment</button>
    </div>
    
    <script>
        const booths = document.querySelectorAll(".booth");
        const basket = document.getElementById("basket");
        const totalPriceDisplay = document.getElementById("totalPrice");
        const checkoutSection = document.getElementById("checkoutSection");
        let selectedSeats = [];

        booths.forEach(booth => {
            booth.dataset.price = Math.floor(Math.random() * 50) + 50;
            booth.addEventListener("click", () => toggleSeat(booth));
        });

        function toggleSeat(booth) {
            if (!booth.classList.contains("booked")) {
                booth.classList.toggle("selected");
                const seatNumber = booth.dataset.id;
                const price = booth.dataset.price;
                if (selectedSeats.find(s => s.seatNumber == seatNumber)) {
                    selectedSeats = selectedSeats.filter(s => s.seatNumber != seatNumber);
                } else {
                    selectedSeats.push({ seatNumber, price });
                }
                updateBasket();
            }
        }

        function updateBasket() {
            basket.innerHTML = "";
            let total = 0;
            selectedSeats.forEach(seat => {
                const li = document.createElement("li");
                li.innerText = `Booth ${seat.seatNumber} - $${seat.price}`;
                basket.appendChild(li);
                total += Number(seat.price);
            });
            totalPriceDisplay.innerText = selectedSeats.length ? `Total Price: $${total}` : "";
        }

        function bookSeats() {
            if (selectedSeats.length === 0) {
                alert("No seats selected.");
                return;
            }
            selectedSeats.forEach(seat => {
                const boothElement = document.querySelector(`.booth[data-id='${seat.seatNumber}']`);
                boothElement.classList.remove("selected");
                boothElement.classList.add("booked");
            });
            alert("Seats booked successfully! Click OK to proceed to checkout.");
            checkoutSection.style.display = "block";
            setTimeout(() => {
                window.location.href = '#checkoutSection';
            }, 500);
        }

        function proceedToPayment() {
            const totalPrice = selectedSeats.reduce((sum, seat) => sum + Number(seat.price), 0);
            alert(`Proceeding to payment. Total: $${totalPrice}`);
            setTimeout(() => {
                alert("Payment confirmed. Thank you for your booking!");
            }, 500);
        }
    </script>
</body>
</html>
